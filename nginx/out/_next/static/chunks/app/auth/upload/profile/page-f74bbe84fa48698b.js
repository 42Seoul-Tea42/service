(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[988],{6776:function(e,r,t){Promise.resolve().then(t.bind(t,109))},3829:function(e,r,t){"use strict";t.d(r,{yP:function(){return s}}),t(657),t(5949),t(3421),t(3400);let s=async(e,r)=>{let t=e.target.files;if(t){let e=[];for(let r=0;r<t.length;r++){let s=t[r],l=await n(s),c=await a(l,800,800);e.push(c)}r(e)}},n=e=>new Promise((r,t)=>{let s=new FileReader;s.onload=()=>{"string"==typeof s.result?r(s.result):t(Error("Failed to convert file to base64."))},s.onerror=()=>{t(Error("Failed to read file."))},s.readAsDataURL(e)}),a=(e,r,t)=>new Promise((s,n)=>{let a=document.createElement("img");a.onload=()=>{let e=document.createElement("canvas"),l=a.width,c=a.height;l>c?l>r&&(c=Math.round(c*r/l),l=r):c>t&&(l=Math.round(l*t/c),c=t),e.width=l,e.height=c;let i=e.getContext("2d");i?(i.drawImage(a,0,0,l,c),s(e.toDataURL("image/jpeg"))):n(Error("Failed to get canvas context."))},a.onerror=()=>{n(Error("Failed to load image."))},a.src=e})},8250:function(e,r,t){"use strict";var s=t(657),n=t(5949),a=t(129);r.Z=()=>{let e=(0,a.v9)(e=>e.accountSlice.user.similar),r=(0,a.I0)();return(0,s.jsx)("div",{className:"mb-5",children:(0,s.jsxs)("ul",{className:"items-center w-full text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg sm:flex ",children:[(0,s.jsx)("li",{className:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r ",children:(0,s.jsxs)("div",{className:"flex items-center ps-3",children:[(0,s.jsx)("input",{id:"similar",type:"radio",checked:e,name:"similar",onChange:()=>r((0,n.mm)(!0)),className:"w-4 h-4 text-green-400 bg-gray-100 border-gray-300 focus:ring-green-400 ",required:!0}),(0,s.jsx)("label",{htmlFor:"similar",className:"w-full py-3 ms-2 text-sm font-medium text-gray-900 ",children:"나와 비슷한 사람"})]})}),(0,s.jsx)("li",{className:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r ",children:(0,s.jsxs)("div",{className:"flex items-center ps-3",children:[(0,s.jsx)("input",{id:"non-similar",type:"radio",checked:!e,name:"similar",onChange:()=>r((0,n.mm)(!1)),className:"w-4 h-4 text-green-400 bg-gray-100 border-gray-300 focus:ring-green-400 ",required:!0}),(0,s.jsx)("label",{htmlFor:"non-similar",className:"w-full py-3 ms-2 text-sm font-medium text-gray-900 ",children:"나와 다른 사람"})]})})]})})}},2247:function(e,r,t){"use strict";t.d(r,{uc:function(){return c},U5:function(){return u},yF:function(){return o},sx:function(){return m},U0:function(){return b},gP:function(){return d},WU:function(){return x},v0:function(){return h},An:function(){return g}});var s=t(657),n=t(2194),a=t(5949),l=t(129),c=()=>{let e=(0,l.v9)(e=>e.accountSlice.user.age),r=(0,l.I0)();return(0,s.jsx)(n.$C,{type:"number",value:e?e.toString():"",onChange:e=>r((0,a.XM)(parseInt(e.target.value))),text:"나이",required:!0})},i=t(2038),u=function(e){let{extended:r,addJSX:t}=e,c=(0,l.v9)(e=>e.accountSlice.user.email),u=(0,l.I0)();return(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(n.$C,{type:"email",value:c,onChange:e=>{u((0,a.P8)(e.target.value)),r&&r()},text:"Email",maxLength:i.bv.EMAIL,autoComplete:"email"}),t]})},o=()=>{let e=(0,l.I0)(),r=(0,l.v9)(e=>e.accountSlice.user.gender);return(0,s.jsx)("div",{className:"mb-5",children:(0,s.jsxs)("ul",{className:"items-center w-full text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg sm:flex ",children:[(0,s.jsx)("li",{className:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r ",children:(0,s.jsxs)("div",{className:"flex items-center ps-3",children:[(0,s.jsx)("input",{id:"male",type:"radio",value:i.Y0.MALE,checked:r===i.Y0.MALE,name:"gender",onChange:r=>e((0,a.R9)(r.target.value)),className:"w-4 h-4 text-green-400 bg-gray-100 border-gray-300 focus:ring-green-400 ",required:!0}),(0,s.jsx)("label",{htmlFor:"male",className:"w-full py-3 ms-2 text-sm font-medium text-gray-900 ",children:"남성"})]})}),(0,s.jsx)("li",{className:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r ",children:(0,s.jsxs)("div",{className:"flex items-center ps-3",children:[(0,s.jsx)("input",{id:"female",type:"radio",value:i.Y0.FEMALE,checked:r===i.Y0.FEMALE,name:"gender",onChange:r=>e((0,a.R9)(r.target.value)),className:"w-4 h-4 text-green-400 bg-gray-100 border-gray-300 focus:ring-green-400 ",required:!0}),(0,s.jsx)("label",{htmlFor:"female",className:"w-full py-3 ms-2 text-sm font-medium text-gray-900 ",children:"여성"})]})}),(0,s.jsx)("li",{className:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r ",children:(0,s.jsxs)("div",{className:"flex items-center ps-3",children:[(0,s.jsx)("input",{id:"other",type:"radio",value:i.Y0.OTHER,checked:r===i.Y0.OTHER,name:"gender",onChange:r=>e((0,a.R9)(r.target.value)),className:"w-4 h-4 text-green-400 bg-gray-100 border-gray-300 focus:ring-green-400 ",required:!0}),(0,s.jsx)("label",{htmlFor:"other",className:"w-full py-3 ms-2 text-sm font-medium text-gray-900 ",children:"그외"})]})})]})})},d=function(e){let{extended:r,addJSX:t}=e,c=(0,l.v9)(e=>e.accountSlice.user.loginId),u=(0,l.I0)();return(0,s.jsxs)("div",{children:[(0,s.jsx)(n.$C,{type:"text",value:c,onChange:e=>{u((0,a.i_)(e.target.value)),r&&r()},text:"Login ID",maxLength:i.bv.ID,autoComplete:"username"}),t]})},m=()=>{let e=(0,l.I0)(),r=(0,l.v9)(e=>e.accountSlice.user.introduction);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"mb-10",children:[(0,s.jsx)("label",{htmlFor:"message",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"한줄소개를 작성해주세요."}),(0,s.jsx)("textarea",{id:"message",rows:4,value:r,onChange:r=>e((0,a.iE)(r.target.value)),className:"block p-2.5 w-full min-h-36 max-h-96 text-md text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-green-400 focus:border-green-400",placeholder:"나랑 눈사람 만들래?"})]})})},x=()=>{let e=(0,l.v9)(e=>e.accountSlice.password),r=(0,l.I0)();return(0,s.jsx)("div",{children:(0,s.jsx)(n.$C,{type:"password",value:e,onChange:e=>r((0,a.fM)(e.target.value)),text:"Password",autoComplete:"new-password",maxLength:i.bv.PASSWORD})})},h=()=>{let e=(0,l.I0)(),r=(0,l.v9)(e=>e.accountSlice.user.sexualPreference);return(0,s.jsx)("div",{className:"mb-5",children:(0,s.jsxs)("ul",{className:"items-center w-full text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg sm:flex ",children:[(0,s.jsx)("li",{className:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r ",children:(0,s.jsxs)("div",{className:"flex items-center ps-3",children:[(0,s.jsx)("input",{id:"hetero",type:"radio",value:i.Y0.MALE,checked:r===i.Y0.MALE,name:"sexual-preference",onChange:r=>e((0,a.gx)(r.target.value)),className:"w-4 h-4 text-green-400 bg-gray-100 border-gray-300 focus:ring-green-400 focus:ring-2",required:!0}),(0,s.jsx)("label",{htmlFor:"hetero",className:"w-full py-3 ms-2 text-sm font-medium text-gray-900 ",children:"남성"})]})}),(0,s.jsx)("li",{className:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r ",children:(0,s.jsxs)("div",{className:"flex items-center ps-3",children:[(0,s.jsx)("input",{id:"homo",type:"radio",value:i.Y0.FEMALE,checked:r===i.Y0.FEMALE,name:"sexual-preference",onChange:r=>e((0,a.gx)(r.target.value)),className:"w-4 h-4 text-green-400 bg-gray-100 border-gray-300 focus:ring-green-400 focus:ring-2",required:!0}),(0,s.jsx)("label",{htmlFor:"homo",className:"w-full py-3 ms-2 text-sm font-medium text-gray-900 ",children:"여성"})]})}),(0,s.jsx)("li",{className:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r ",children:(0,s.jsxs)("div",{className:"flex items-center ps-3",children:[(0,s.jsx)("input",{id:"bisexual",type:"radio",value:i.Y0.ALL,checked:r===i.Y0.ALL,name:"sexual-preference",onChange:r=>e((0,a.gx)(r.target.value)),className:"w-4 h-4 text-green-400 bg-gray-100 border-gray-300 focus:ring-green-400 focus:ring-2",required:!0}),(0,s.jsx)("label",{htmlFor:"bisexual",className:"w-full py-3 ms-2 text-sm font-medium text-gray-900 ",children:"상관없음"})]})})]})})},g=()=>{let e=(0,l.v9)(e=>e.accountSlice.user.firstname),r=(0,l.v9)(e=>e.accountSlice.user.lastname),t=(0,l.I0)();return(0,s.jsxs)("div",{className:"grid md:grid-cols-2 md:gap-6",children:[(0,s.jsx)(n.$C,{type:"text",value:e,onChange:e=>t((0,a.x7)(e.target.value)),text:"First name",maxLength:i.bv.NAME}),(0,s.jsx)(n.$C,{type:"text",value:r,onChange:e=>t((0,a.tK)(e.target.value)),text:"Last name",autoComplete:"username",maxLength:i.bv.NAME})]})},f=t(7789),b=function(e){let{onSubmit:r}=e,t=(0,f.useRouter)(),a=(0,l.v9)(e=>e.loginSlice.error);return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("p",{className:"absolute bottom-24 text-red-600",children:a}),(0,s.jsxs)("form",{onSubmit:r,className:"space-y-6 mb-1 text-start",children:[(0,s.jsx)("div",{className:"min-w-[300px]",children:(0,s.jsx)(d,{})}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(x,{})}),(0,s.jsx)(n.Mm,{text:"Login your Account"}),(0,s.jsxs)("details",{className:"text-gray-700",children:[(0,s.jsx)("summary",{children:" help? "}),(0,s.jsxs)("div",{className:"ml-5",children:[(0,s.jsx)("div",{className:"mt-1"}),(0,s.jsx)(n.WX,{text:"Lost Password?",onClick:()=>{t.push("/auth/reset-password")}}),(0,s.jsx)("div",{className:"mt-1"}),(0,s.jsx)(n.WX,{text:"Didn't receive the Email?",onClick:()=>{t.push("/auth/send-email")}})]})]})]})]})}},4340:function(e,r,t){"use strict";var s=t(657),n=t(3829),a=t(7251),l=t(5949),c=t(307),i=t(7580),u=t(129),o=t(178),d=t(3035);let m=e=>{switch(e){case 0:return 1;case 1:return 3;case 2:return 2;case 3:return 5;case 4:default:return 0;case 5:return 4}};r.Z=function(e){let{backgroundColor:r}=e,t=(0,u.I0)(),x=(0,u.v9)(e=>e.accountSlice.user.pictures),h=(0,i.useRef)(null),g=(0,i.useRef)(null),f=(0,i.useRef)(null),b=(0,i.useRef)(null),j=(0,i.useRef)(null),v=(0,i.useRef)(null),y=(0,i.useRef)(null),p=(0,i.useRef)(new o.FM8(0,0)),w=(0,i.useRef)(null),N=new o.DvJ(1,1,1),[C,E]=(0,i.useState)(0),k=e=>{let r=new o.dpR,t=r.load("/cloud-line.png"),s=[];for(let e=0;e<6;e++){let n=x[m(e)],a=new o.vBJ(n?{map:r.load(n)}:{map:t});s.push(a)}return new o.Kj0(e,s)},L=()=>{g.current&&b.current&&f.current&&j.current&&(requestAnimationFrame(L),b.current.update(),f.current.render(j.current,g.current))},F=e=>{if(!w.current||!y.current||!g.current||!v.current)return;let r=w.current.getBoundingClientRect();p.current.x=(e.clientX-r.left)/r.width*2-1,p.current.y=-((e.clientY-r.top)/r.height*2)+1,y.current.setFromCamera(p.current,g.current);let s=y.current.intersectObject(v.current);if(s.length>0){let e=m(Math.floor(s[0].faceIndex/2));x[e]?t((0,l._Y)(e)):h.current&&(E(e),h.current.click())}};return(0,i.useLayoutEffect)(()=>{if(w.current)return j.current=new o.xsS,j.current.background=new o.Ilk(r||"#F3FAF7"),g.current=new o.cPb(10,w.current.clientWidth/w.current.clientHeight,.1,2e3),g.current.position.set(0,0,10),f.current=new o.CP7({canvas:w.current}),f.current.setSize(w.current.clientWidth,w.current.clientHeight),b.current=new d.z(g.current,f.current.domElement),b.current.minDistance=6,b.current.maxDistance=10,y.current=new o.iMs,v.current=k(N),()=>{j.current&&v.current&&(j.current.remove(v.current),v.current.geometry.dispose(),Array.isArray(v.current.material)?v.current.material.forEach(e=>e.dispose()):v.current.material.dispose())}},[]),(0,i.useEffect)(()=>{var e;let r=k(N);return r.rotation.set(0,-.2,0),null===(e=j.current)||void 0===e||e.add(r),w.current&&w.current.addEventListener("click",F),L(),()=>{w.current&&w.current.removeEventListener("click",F)}},[x]),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("canvas",{ref:w,className:"w-full h-[400px]"}),(0,s.jsx)("button",{className:"absolute bottom-10 right-20",type:"button",onClick:()=>t((0,a.wy)()),children:(0,s.jsx)(c.y,{})})]}),(0,s.jsx)("input",{ref:h,className:"hidden",type:"file",multiple:!1,onChange:e=>(0,n.yP)(e,e=>t((0,l.h0)({index:C,photo:e}))),accept:"image/jpeg, image/jpg, image/png"})]})}},1940:function(e,r,t){"use strict";t.d(r,{i:function(){return n}}),t(657),t(3829),t(5949),t(3421);let s=async e=>{if(e.length<1)return Promise.reject("프로필 사진을 한 장 이상 등록해주세요.")},n=async(e,r)=>{try{await s(e),r()}catch(e){alert(e)}}},109:function(e,r,t){"use strict";t.r(r);var s=t(657),n=t(2247),a=t(2194),l=t(9234),c=t(5949),i=t(129),u=t(1940),o=t(1561),d=t(8250),m=t(4340);r.default=()=>{let e=(0,i.I0)(),r=(0,i.v9)(e=>e.accountSlice.user),t=r.pictures.filter(e=>!!e),x=()=>{e((0,o.NV)({pictures:t.flatMap(e=>e),age:r.age,gender:r.gender,taste:r.sexualPreference,tags:r.interests,similar:r.similar,bio:r.introduction}))};return(0,s.jsxs)("div",{className:"w-full h-screen relative flex justify-center items-center",children:[(0,s.jsx)("h2",{className:"absolute top-40 text-3xl text-gray-700 font-bold",children:" 최초 1회 설정이 필요합니다. "}),(0,s.jsxs)("div",{className:"max-w-md h-3/5 overflow-hidden hover:overflow-y-auto p-6 bg-white border border-gray-200 rounded-lg shadow space-y-5",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("h5",{className:"text-red-500 text-lg mr-1",children:" * "}),(0,s.jsx)("h5",{className:"text-lg font-semibold mb-5 underline decoration-wavy decoration-blue-500/50",children:"프로필 사진을 설정해주세요."})]}),(0,s.jsx)(m.Z,{backgroundColor:"white"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(0,u.i)(r.pictures,x)},children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("h5",{className:"text-red-500 mr-1",children:" * "}),(0,s.jsx)("h5",{className:"block text-sm font-medium text-gray-900",children:"나이"})]}),(0,s.jsx)(n.uc,{}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("h5",{className:"text-red-500 mr-1",children:" * "}),(0,s.jsx)("h5",{className:"block text-sm font-medium text-gray-900",children:"나의 성별"})]}),(0,s.jsx)(n.yF,{}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("h5",{className:"text-red-500 mr-1",children:" * "}),(0,s.jsx)("h5",{className:"block text-sm font-medium text-gray-900",children:"성적 선호"})]}),(0,s.jsx)(n.v0,{}),(0,s.jsx)(n.sx,{}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("h5",{className:"text-red-500 mr-1 text-lg",children:" * "}),(0,s.jsx)("h5",{className:"text-lg font-semibold mb-5 underline decoration-wavy decoration-yellow-500/50",children:"관심있는 분야를 선택해주세요."})]}),(0,s.jsx)(l.Z,{readOnly:!1,onClick:r=>e((0,c.wq)(r)),interests:r.interests}),(0,s.jsxs)("div",{className:"flex mt-5",children:[(0,s.jsx)("h5",{className:"text-red-500 mr-1",children:" * "}),(0,s.jsx)("h5",{className:"block text-sm font-medium text-gray-900",children:"나와 비슷한 상대를 추천받고 싶나요?"})]}),(0,s.jsx)(d.Z,{}),(0,s.jsx)("div",{className:"mb-5"}),(0,s.jsx)(a.Mm,{text:"Submit"})]})]})]})}},307:function(e,r,t){"use strict";t.d(r,{y:function(){return n}});var s=t(657);let n=()=>(0,s.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.651 7.65a7.131 7.131 0 0 0-12.68 3.15M18.001 4v4h-4m-7.652 8.35a7.13 7.13 0 0 0 12.68-3.15M6 20v-4h4"})})}},function(e){e.O(0,[495,327,437,400,46,194,949,60,670,744],function(){return e(e.s=6776)}),_N_E=e.O()}]);