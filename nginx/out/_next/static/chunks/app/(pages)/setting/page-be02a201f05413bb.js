(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[438],{5625:function(e,t,r){Promise.resolve().then(r.bind(r,7568))},3829:function(e,t,r){"use strict";r.d(t,{yP:function(){return n}}),r(657),r(5949),r(3421),r(3400);let n=async(e,t)=>{let r=e.target.files;if(r){let e=[];for(let t=0;t<r.length;t++){let n=r[t],c=await i(n),a=await s(c,800,800);e.push(a)}t(e)}},i=e=>new Promise((t,r)=>{let n=new FileReader;n.onload=()=>{"string"==typeof n.result?t(n.result):r(Error("Failed to convert file to base64."))},n.onerror=()=>{r(Error("Failed to read file."))},n.readAsDataURL(e)}),s=(e,t,r)=>new Promise((n,i)=>{let s=document.createElement("img");s.onload=()=>{let e=document.createElement("canvas"),c=s.width,a=s.height;c>a?c>t&&(a=Math.round(a*t/c),c=t):a>r&&(c=Math.round(c*r/a),a=r),e.width=c,e.height=a;let l=e.getContext("2d");l?(l.drawImage(s,0,0,c,a),n(e.toDataURL("image/jpeg"))):i(Error("Failed to get canvas context."))},s.onerror=()=>{i(Error("Failed to load image."))},s.src=e})},6274:function(e,t,r){"use strict";var n=r(657),i=r(129),s=r(2134),c=r(5949),a=r(2194);t.Z=function(e){let{stateColor:t}=e,r=(0,i.v9)(e=>e.accountSlice.reEnterPassword),l=(0,i.I0)();return(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(a.$C,{type:"password",value:r,onChange:e=>l((0,c.PR)(e.target.value)),text:"Re-Enter-Password",autoComplete:"new-password"}),(0,n.jsx)(s.Z,{color:t})]})}},8250:function(e,t,r){"use strict";var n=r(657),i=r(5949),s=r(129);t.Z=()=>{let e=(0,s.v9)(e=>e.accountSlice.user.similar),t=(0,s.I0)();return(0,n.jsx)("div",{className:"mb-5",children:(0,n.jsxs)("ul",{className:"items-center w-full text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg sm:flex ",children:[(0,n.jsx)("li",{className:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r ",children:(0,n.jsxs)("div",{className:"flex items-center ps-3",children:[(0,n.jsx)("input",{id:"similar",type:"radio",checked:e,name:"similar",onChange:()=>t((0,i.mm)(!0)),className:"w-4 h-4 text-green-400 bg-gray-100 border-gray-300 focus:ring-green-400 ",required:!0}),(0,n.jsx)("label",{htmlFor:"similar",className:"w-full py-3 ms-2 text-sm font-medium text-gray-900 ",children:"나와 비슷한 사람"})]})}),(0,n.jsx)("li",{className:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r ",children:(0,n.jsxs)("div",{className:"flex items-center ps-3",children:[(0,n.jsx)("input",{id:"non-similar",type:"radio",checked:!e,name:"similar",onChange:()=>t((0,i.mm)(!1)),className:"w-4 h-4 text-green-400 bg-gray-100 border-gray-300 focus:ring-green-400 ",required:!0}),(0,n.jsx)("label",{htmlFor:"non-similar",className:"w-full py-3 ms-2 text-sm font-medium text-gray-900 ",children:"나와 다른 사람"})]})})]})})}},4340:function(e,t,r){"use strict";var n=r(657),i=r(3829),s=r(7251),c=r(5949),a=r(307),l=r(7580),u=r(129),o=r(178),d=r(3035);let m=e=>{switch(e){case 0:return 1;case 1:return 3;case 2:return 2;case 3:return 5;case 4:default:return 0;case 5:return 4}};t.Z=function(e){let{backgroundColor:t}=e,r=(0,u.I0)(),g=(0,u.v9)(e=>e.accountSlice.user.pictures),h=(0,l.useRef)(null),f=(0,l.useRef)(null),x=(0,l.useRef)(null),p=(0,l.useRef)(null),v=(0,l.useRef)(null),j=(0,l.useRef)(null),w=(0,l.useRef)(null),y=(0,l.useRef)(new o.FM8(0,0)),b=(0,l.useRef)(null),k=new o.DvJ(1,1,1),[C,E]=(0,l.useState)(0),S=e=>{let t=new o.dpR,r=t.load("/cloud-line.png"),n=[];for(let e=0;e<6;e++){let i=g[m(e)],s=new o.vBJ(i?{map:t.load(i)}:{map:r});n.push(s)}return new o.Kj0(e,n)},N=()=>{f.current&&p.current&&x.current&&v.current&&(requestAnimationFrame(N),p.current.update(),x.current.render(v.current,f.current))},M=e=>{if(!b.current||!w.current||!f.current||!j.current)return;let t=b.current.getBoundingClientRect();y.current.x=(e.clientX-t.left)/t.width*2-1,y.current.y=-((e.clientY-t.top)/t.height*2)+1,w.current.setFromCamera(y.current,f.current);let n=w.current.intersectObject(j.current);if(n.length>0){let e=m(Math.floor(n[0].faceIndex/2));g[e]?r((0,c._Y)(e)):h.current&&(E(e),h.current.click())}};return(0,l.useLayoutEffect)(()=>{if(b.current)return v.current=new o.xsS,v.current.background=new o.Ilk(t||"#F3FAF7"),f.current=new o.cPb(10,b.current.clientWidth/b.current.clientHeight,.1,2e3),f.current.position.set(0,0,10),x.current=new o.CP7({canvas:b.current}),x.current.setSize(b.current.clientWidth,b.current.clientHeight),p.current=new d.z(f.current,x.current.domElement),p.current.minDistance=6,p.current.maxDistance=10,w.current=new o.iMs,j.current=S(k),()=>{v.current&&j.current&&(v.current.remove(j.current),j.current.geometry.dispose(),Array.isArray(j.current.material)?j.current.material.forEach(e=>e.dispose()):j.current.material.dispose())}},[]),(0,l.useEffect)(()=>{var e;let t=S(k);return t.rotation.set(0,-.2,0),null===(e=v.current)||void 0===e||e.add(t),b.current&&b.current.addEventListener("click",M),N(),()=>{b.current&&b.current.removeEventListener("click",M)}},[g]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("canvas",{ref:b,className:"w-full h-[400px]"}),(0,n.jsx)("button",{className:"absolute bottom-10 right-20",type:"button",onClick:()=>r((0,s.wy)()),children:(0,n.jsx)(a.y,{})})]}),(0,n.jsx)("input",{ref:h,className:"hidden",type:"file",multiple:!1,onChange:e=>(0,i.yP)(e,e=>r((0,c.h0)({index:C,photo:e}))),accept:"image/jpeg, image/jpg, image/png"})]})}},458:function(e,t,r){"use strict";var n=r(7236),i=r(7580),s=r(129);t.Z=()=>{let e=(0,s.v9)(e=>e.accountSlice.password),t=(0,s.v9)(e=>e.accountSlice.reEnterPassword),[r,c]=(0,i.useState)("");return(0,i.useEffect)(()=>{c((0,n.u)(e,t))},[e,t]),r}},7568:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(657),i=r(7580),s=r(129),c=r(2194),a=r(9234),l=r(9241),u=r(6274),o=r(2247),d=r(5949),m=r(1940),g=r(1561),h=r(7251),f=r(8250),x=r(458),p=r(4340),v=r(4918),j=function(){return(0,n.jsx)("button",{type:"button",className:"border p-2 bg-gray-700 text-white rounded-xl",onClick:()=>(0,v.Z)(),children:"위치 재설정"})},w=()=>{let e=(0,s.v9)(e=>e.accountSlice),t=(0,s.v9)(e=>e.accountSlice.user),r=(0,s.I0)();(0,i.useLayoutEffect)(()=>{r((0,h.wy)())},[]);let v=()=>{var n;let i=t.pictures.filter(e=>!!e),s={gender:Number(t.gender),taste:Number(t.sexualPreference),pictures:i.flatMap(e=>e),bio:t.introduction,tags:t.interests,emoji:t.emoji,hate_emoji:t.hateEmoji,name:t.firstname,last_name:null!==(n=t.lastname)&&void 0!==n?n:"",age:t.age,email:t.email,pw:e.password};r((0,g.NV)(s))},w=(0,x.Z)();return(0,n.jsx)("div",{className:"flex min-h-screen bg-green-50",children:(0,n.jsxs)("div",{className:"flex-col justify-center mx-auto m-40 md:grid md:grid-cols-2 md:gap-8",children:[(0,n.jsx)("div",{children:(0,n.jsx)(p.Z,{})}),(0,n.jsx)("div",{className:"flex justify-center items-start",children:(0,n.jsxs)("form",{className:"max-h-96 max-w-96",onSubmit:e=>{e.preventDefault(),(0,m.i)(t.pictures,v)},children:[(0,n.jsx)(c.fu,{items:[{title:"이름변경",content:(0,n.jsx)(o.An,{})},{title:"위치 재설정",content:(0,n.jsx)(j,{})},{title:"나이 재설정",content:(0,n.jsx)(o.uc,{})},{title:"비밀번호 재설정",content:(0,n.jsxs)(n.Fragment,{children:[w&&(0,n.jsx)("div",{className:"text-red-500 mb-1",children:w}),(0,n.jsx)(o.WU,{}),(0,n.jsx)(u.Z,{stateColor:w.length?"bg-red-500":"bg-green-500"})]})},{title:"나의 성별 선택",content:(0,n.jsx)(o.yF,{})},{title:"성적 취향 선택",content:(0,n.jsx)(o.v0,{})},{title:"비슷한 유저를 만나고 싶은가요?",content:(0,n.jsx)(f.Z,{})},{title:"나의 관심사 태그를 선택해주세요.",content:(0,n.jsx)(a.Z,{readOnly:!1,interests:t.interests,onClick:e=>r((0,d.wq)(e))})},{title:"싫어하는 관심사 태그를 선택해주세요.",content:(0,n.jsx)(a.Z,{readOnly:!1,interests:t.hateInterests,onClick:e=>r((0,d.Tl)(e))})},{title:"선호하는 이모티콘을 설정해주세요. (최대 4개)",content:(0,n.jsx)(l.Z,{readOnly:!1,emoji:t.emoji,onClick:e=>r((0,d.Sv)(e)),selectColor:"border-green-400"})},{title:"싫어하는 이모티콘을 설정해주세요. (최대 4개)",content:(0,n.jsx)(l.Z,{readOnly:!1,emoji:t.hateEmoji,onClick:e=>r((0,d.sc)(e)),selectColor:"border-red-400"})},{title:"자기소개를 작성해주세요.",content:(0,n.jsx)(o.sx,{})},{title:"이메일을 변경하세요.",content:(0,n.jsx)(o.U5,{})}]}),(0,n.jsx)("div",{className:"mb-5"}),(0,n.jsx)(c.Mm,{text:"Save"})]})})]})})}},1940:function(e,t,r){"use strict";r.d(t,{i:function(){return i}}),r(657),r(3829),r(5949),r(3421);let n=async e=>{if(e.length<1)return Promise.reject("프로필 사진을 한 장 이상 등록해주세요.")},i=async(e,t)=>{try{await n(e),t()}catch(e){alert(e)}}},4918:function(e,t){"use strict";async function r(){return new Promise((e,t)=>{navigator.geolocation||t(Error("Geolocation is not supported by this browser.")),navigator.geolocation.getCurrentPosition(t=>{let{latitude:r,longitude:n}=t.coords;e({latitude:r,longitude:n})},e=>{t(e)})})}async function n(){try{let{latitude:e,longitude:t}=await r();localStorage.setItem("user-location",JSON.stringify({latitude:e,longitude:t}))}catch(e){}}t.Z=n},7236:function(e,t,r){"use strict";r.d(t,{D:function(){return a},u:function(){return c}});var n=r(1906),i=r(7580),s=r(129);let c=(e,t)=>e.length<8?"비밀번호는 8자 이상이어야 합니다.":/[A-Z]/.test(e)?/[a-z]/.test(e)?/\d/.test(e)?e.includes(" ")?"비밀번호에 공백이 포함되어 있습니다.":e!==t?"재 입력한 비밀번호가 일치하지 않습니다.":"":"비밀번호는 최소한 하나의 숫자를 포함해야 합니다.":"비밀번호는 최소한 하나의 소문자를 포함해야 합니다.":"비밀번호는 최소한 하나의 대문자를 포함해야 합니다.",a=()=>{let e=(0,s.v9)(e=>e.accountSlice.user.loginId),t=(0,s.v9)(e=>e.accountSlice.password),r=(0,s.v9)(e=>e.accountSlice.reEnterPassword),a=(0,s.v9)(e=>e.signupSlice.validation.isIdDuplicateChecked),l=(0,s.v9)(e=>e.signupSlice.validation.isEmailDuplicateChecked),u=(0,s.v9)(e=>e.accountSlice.user.email),o=(0,s.v9)(e=>e.accountSlice.user.firstname),d=(0,s.v9)(e=>e.accountSlice.user.lastname),[m,g]=(0,i.useState)(!1),h=(0,s.I0)(),f=()=>u.length<1?"이메일을 입력해주세요.":"",x=()=>o.length<1?"이름을 입력해주세요.":d.length<1?"성을 입력해주세요.":"",p=()=>e.includes(" ")?"아이디에 공백이 포함되어 있습니다.":e.length<5?"아이디는 5자 이상이어야 합니다.":"",v=()=>a?"":"아이디 중복체크를 완료해주세요.",j=()=>l?"":"이메일 중복체크를 완료해주세요.";return(0,i.useEffect)(()=>{let e=[{check:f,errorMsg:f()},{check:j,errorMsg:j()},{check:x,errorMsg:x()},{check:p,errorMsg:p()},{check:v,errorMsg:v()},{check:c,errorMsg:c(t,r)}],i=e.find(e=>""!==e.errorMsg);e.filter(e=>""!==e.errorMsg).length===e.length?(h((0,n.sT)("모든 항목을 입력해주세요")),g(!1)):i?(h((0,n.sT)(i.errorMsg)),g(!1)):(h((0,n.sT)("회원가입을 진행해주세요")),g(!0))},[e,t,r,a,l,u,o,d]),[m]}},1906:function(e,t,r){"use strict";r.d(t,{CD:function(){return o},E3:function(){return s},PA:function(){return d},eC:function(){return a},sT:function(){return l},xC:function(){return u}});var n=r(5065),i=r(2039);let s={validation:{isSignup:!1,isEmailDuplicateChecked:!1,isEmailVerifyChecked:!1,isIdDuplicateChecked:!1},loading:!1,error:null},c=(0,n.oM)({name:"signupSlice",initialState:s,reducers:{closeSignupError:e=>{e.error=null},setIsSignup:(e,t)=>{e.validation.isSignup=t.payload},setIsEmailDuplicateChecked:(e,t)=>{e.validation.isEmailDuplicateChecked=t.payload},setIsLoginIdDuplicateChecked:(e,t)=>{e.validation.isIdDuplicateChecked=t.payload},setError(e,t){e.error=t.payload},clearSignupFlag(e){e.validation.isSignup=!1}},extraReducers:e=>{(0,i.$p)(e)}}),{clearSignupFlag:a,setError:l,setIsEmailDuplicateChecked:u,setIsLoginIdDuplicateChecked:o,closeSignupError:d,setIsSignup:m}=c.actions;c.reducer,t.ZP=c.reducer},307:function(e,t,r){"use strict";r.d(t,{y:function(){return i}});var n=r(657);let i=()=>(0,n.jsx)("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.651 7.65a7.131 7.131 0 0 0-12.68 3.15M18.001 4v4h-4m-7.652 8.35a7.13 7.13 0 0 0 12.68-3.15M6 20v-4h4"})})}},function(e){e.O(0,[495,327,437,400,46,194,949,595,60,670,744],function(){return e(e.s=5625)}),_N_E=e.O()}]);