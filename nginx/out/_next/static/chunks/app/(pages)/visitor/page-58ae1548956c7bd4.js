(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[762],{780:function(e,n,r){Promise.resolve().then(r.bind(r,4962))},214:function(e,n,r){"use strict";var t=r(657),a=r(188),i=r(7580),s=r(129);n.Z=function(e){let{profileDetail:n}=e,r=(0,i.useRef)(null),d=(0,s.v9)(e=>e.profileInquirySlice.profileModalVisible),l=(0,s.I0)(),o=e=>{r.current&&!r.current.contains(e.target)&&l((0,a.kG)(!1))};return(0,i.useEffect)(()=>{if(d)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[d]),(0,t.jsx)(t.Fragment,{children:d&&(0,t.jsx)("div",{id:"default-modal",tabIndex:-1,"aria-hidden":!1,className:"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-800 bg-opacity-70",style:{zIndex:1e3},children:(0,t.jsx)("div",{ref:r,className:"bg-white w-full max-w-3xl p-5 rounded-lg shadow-lg",children:n})})})}},7006:function(e,n,r){"use strict";r.d(n,{Z:function(){return h}});var t=r(657),a=r(3400),i=function(e){let{src:n,alt:r}=e;return(0,t.jsx)(a.default,{priority:!0,width:200,height:200,src:n,alt:"Preview ".concat(r),className:"h-[200px] relative z-0 rounded-t-lg object-cover hover:brightness-75",draggable:"false"})},s=r(129),d=r(188),l=r(2194),o=r(2038),c=r(9690),u=r.n(c),f=r(7580),g=function(e){let{user:n,props:r,fancyState:a}=e,[i,s]=(0,f.useState)("border-gray-100");return(0,f.useEffect)(()=>{switch(n.fancy){case o.z.NONE:s(o.SV.none);break;case o.z.SEND:s(o.SV.send);break;case o.z.RECV:s(o.SV.recv);break;case o.z.CONN:s(o.SV.connect);break;default:s(o.SV.none)}},[a]),(0,t.jsx)("div",{className:"shadow-xl rounded-xl border-4 ".concat(i),children:(0,t.jsx)("div",{className:"border border-white rounded-lg",children:r})})},y=r(55),p=r(26),h=function(e){let{users:n}=e,r=(0,s.I0)(),a=e=>{r((0,d.kG)(!0)),r((0,y.yB)(e));let t=u().find(n,{id:e});r((0,d.UM)(t))},c=e=>e.substring(0,4),f=e=>{e.fancy===o.z.NONE||e.fancy===o.z.RECV?r((0,p.TE)(e.id)):r((0,p.pi)(e.id))};return(0,t.jsx)(l.zX,{items:(0,t.jsx)(t.Fragment,{children:n.length>0?n.map((e,n)=>(0,t.jsx)("div",{children:(0,t.jsx)(g,{user:e,fancyState:e.fancy,props:(0,t.jsxs)("div",{className:"max-w-[200px]",children:[(0,t.jsx)("div",{className:"relative rounded-t-xl",children:(0,t.jsx)("div",{onClick:()=>a(e.id),children:(0,t.jsx)(i,{src:e.picture,alt:e.firstname})})}),(0,t.jsxs)("div",{className:"flex items-center justify-center w-full h-12 bg-white rounded-b-lg border border-gray-100 gap-1",children:[(0,t.jsx)("p",{className:"w-12 mr-3 font-semibold text-xl text-gray-700",children:c(e.firstname)}),(0,t.jsx)("p",{className:"mr-1 pl-1 pr-1 border rounded-full text-xl text-gray-500",children:e.age}),(0,t.jsxs)("p",{className:"font-thin mr-1 text-base text-gray-900",children:[e.distance,"km"]}),(0,t.jsx)(l.s,{fancyState:e.fancy,onClick:()=>f(e)})]})]})})},n)):(0,t.jsx)(l.LQ,{style:"bg-green-300 opacity-50",length:n.length})})})}},4962:function(e,n,r){"use strict";r.r(n);var t=r(657),a=r(129),i=r(7580),s=r(3487),d=r(2194),l=r(214),o=r(7006),c=r(6400),u=r(26);n.default=function(){let e=(0,a.I0)(),n=(0,a.v9)(e=>e.suggestionSlice.users);return(0,i.useEffect)(()=>{e((0,u.HO)((0,c.I)({time:"now"}))),e((0,s.oP)(!1))},[]),(0,t.jsx)(d.Jh,{contents:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Z,{profileDetail:(0,t.jsx)(d.zo,{})}),(0,t.jsx)(o.Z,{users:n})]})})}},7250:function(e,n,r){"use strict";r.d(n,{Hf:function(){return i},hk:function(){return a},ig:function(){return s},p9:function(){return d}});var t=r(2038);function a(e){return e|t.z.SEND}function i(e){return e&~t.z.SEND}function s(e){return e|t.z.RECV}function d(e){return e&~t.z.RECV}},26:function(e,n,r){"use strict";r.d(n,{HO:function(){return p},NP:function(){return o},RJ:function(){return v},TE:function(){return m},Un:function(){return S},bO:function(){return g},m0:function(){return u},pi:function(){return j}});var t=r(5065),a=r(410),i=r(9524),s=r(9690),d=r.n(s),l=r(7250);let o=(0,t.hg)("suggestionSlice/getSuggestionUsers",async()=>(await a.Z.get("/user/tea")).data.profile_list.map(e=>(0,i.S)(e))),c=e=>{e.addCase(o.pending,e=>{e.loading=!0,e.error=null}),e.addCase(o.fulfilled,(e,n)=>{e.users=n.payload,e.loading=!1}),e.addCase(o.rejected,e=>{e.loading=!1,e.error="error"})},u=(0,t.hg)("suggestionSlice/getHistoryUserList",async e=>(await a.Z.get("/history/history-list?time=".concat(e))).data.profile_list.map(e=>(0,i.S)(e))),f=e=>{e.addCase(u.pending,e=>{e.loading=!0,e.error=null}),e.addCase(u.fulfilled,(e,n)=>{e.users=n.payload,e.loading=!1}),e.addCase(u.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})},g=(0,t.hg)("suggestionSlice/getFancyUsers",async e=>(await a.Z.get("/history/fancy-list?time=".concat(e))).data.profile_list.map(e=>(0,i.S)(e))),y=e=>{e.addCase(g.pending,e=>{e.loading=!0,e.error=null}),e.addCase(g.fulfilled,(e,n)=>{e.users=n.payload,e.loading=!1}),e.addCase(g.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})},p=(0,t.hg)("suggestionSlice/getVisitorUsers",async e=>(await a.Z.get("/history/visitor-list?time=".concat(e))).data.profile_list.map(e=>(0,i.S)(e))),h=e=>{e.addCase(p.pending,e=>{e.loading=!0,e.error=null}),e.addCase(p.fulfilled,(e,n)=>{e.users=n.payload,e.loading=!1}),e.addCase(p.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})},m=(0,t.hg)("suggestionSlice/patchFancy",async e=>(await a.Z.patch("/history/fancy",{target_id:Number(e)}),e)),x=e=>{e.addCase(m.pending,e=>{e.loading=!0,e.error=null}),e.addCase(m.fulfilled,(e,n)=>{let r=n.payload,t=d().find(e.users,{id:r});t.fancy=(0,l.hk)(t.fancy),e.loading=!1}),e.addCase(m.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})},j=(0,t.hg)("suggestionSlice/patchUnFancy",async e=>(await a.Z.patch("/history/unfancy",{target_id:Number(e)}),e)),N=e=>{e.addCase(j.pending,e=>{e.loading=!0,e.error=null}),e.addCase(j.fulfilled,(e,n)=>{let r=n.payload,t=d().find(e.users,{id:r});t.fancy=(0,l.Hf)(t.fancy),e.loading=!1}),e.addCase(j.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})},v=(0,t.hg)("suggestionSlice/postSearch",async(e,n)=>{let{getState:r}=n,{searchParams:t}=r().searchSlice;return(await a.Z.post("/user/search",{min_age:t.minAge,max_age:t.maxAge,distance:t.distance,tags:t.interests,fame:t.rating})).data.profile_list.map(e=>(0,i.S)(e))}),b=e=>{e.addCase(v.pending,e=>{e.loading=!0,e.error=null}),e.addCase(v.fulfilled,(e,n)=>{e.users=n.payload}),e.addCase(v.rejected,(e,n)=>{var r;e.loading=!1,e.error=null!==(r=n.error.message)&&void 0!==r?r:null})},S=e=>{c(e),f(e),h(e),y(e),N(e),b(e),x(e)}},3487:function(e,n,r){"use strict";r.d(n,{E3:function(){return l},PJ:function(){return c},mt:function(){return g},oP:function(){return y},x6:function(){return u},yB:function(){return f}});var t=r(5065),a=r(9690),i=r.n(a),s=r(7250),d=r(26);let l={users:[],visitorNoti:!1,fancyNoti:!1,loading:!1,error:null},o=(0,t.oM)({name:"suggestionSlice",initialState:l,reducers:{setVisitorNoti:(e,n)=>{e.visitorNoti=n.payload},setFancyNoti:(e,n)=>{e.fancyNoti=n.payload},setNewFancy:(e,n)=>{let r=n.payload,t=i().find(e.users,{id:r});t.fancy=(0,s.ig)(t.fancy),e.loading=!1},setUnFancy:(e,n)=>{let r=n.payload,t=i().find(e.users,{id:r});t.fancy=(0,s.p9)(t.fancy)},initUser:e=>{e.users=[]}},extraReducers:e=>{(0,d.Un)(e)}}),{initUser:c,setNewFancy:u,setUnFancy:f,setFancyNoti:g,setVisitorNoti:y}=o.actions;o.reducer,n.ZP=o.reducer},6400:function(e,n,r){"use strict";function t(e){let{time:n}=e;return("now"===n?new Date().toISOString():n).replace("T"," ").replace("Z","")+"000%2B0000"}r.d(n,{I:function(){return t}})}},function(e){e.O(0,[495,437,400,194,60,670,744],function(){return e(e.s=780)}),_N_E=e.O()}]);