(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{342:function(e,n,t){Promise.resolve().then(t.bind(t,7146))},214:function(e,n,t){"use strict";var r=t(657),a=t(188),i=t(7580),s=t(129);n.Z=function(e){let{profileDetail:n}=e,t=(0,i.useRef)(null),d=(0,s.v9)(e=>e.profileInquirySlice.profileModalVisible),l=(0,s.I0)(),o=e=>{t.current&&!t.current.contains(e.target)&&l((0,a.kG)(!1))};return(0,i.useEffect)(()=>{if(d)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[d]),(0,r.jsx)(r.Fragment,{children:d&&(0,r.jsx)("div",{id:"default-modal",tabIndex:-1,"aria-hidden":!1,className:"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-800 bg-opacity-70",style:{zIndex:1e3},children:(0,r.jsx)("div",{ref:t,className:"bg-white w-full max-w-3xl p-5 rounded-lg shadow-lg",children:n})})})}},7146:function(e,n,t){"use strict";t.r(n);var r=t(657),a=t(129),i=t(7580),s=t(3487),d=t(2194),l=t(214),o=t(7006),c=t(6400),u=t(26);n.default=function(){let e=(0,a.I0)(),n=(0,a.v9)(e=>e.suggestionSlice.users);return(0,i.useLayoutEffect)(()=>{e((0,u.bO)((0,c.I)({time:"now"}))),e((0,s.mt)(!1))},[]),(0,r.jsx)(d.Jh,{contents:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{profileDetail:(0,r.jsx)(d.zo,{})}),(0,r.jsx)(o.Z,{users:n})]})})}},7006:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var r=t(657),a=t(3400),i=function(e){let{src:n,alt:t}=e;return(0,r.jsx)(a.default,{priority:!0,width:200,height:200,src:n,alt:"Preview ".concat(t),className:"h-[200px] relative z-0 rounded-t-lg object-cover hover:brightness-75",draggable:"false"})},s=t(129),d=t(188),l=t(2194),o=t(2038),c=t(9690),u=t.n(c),f=t(7580),g=function(e){let{user:n,props:t,fancyState:a}=e,[i,s]=(0,f.useState)("border-gray-100");return(0,f.useEffect)(()=>{switch(n.fancy){case o.z.NONE:s(o.SV.none);break;case o.z.SEND:s(o.SV.send);break;case o.z.RECV:s(o.SV.recv);break;case o.z.CONN:s(o.SV.connect);break;default:s(o.SV.none)}},[a]),(0,r.jsx)("div",{className:"shadow-xl rounded-xl border-4 ".concat(i),children:(0,r.jsx)("div",{className:"border border-white rounded-lg",children:t})})},y=t(55),p=t(26),h=function(e){let{users:n}=e,t=(0,s.I0)(),a=e=>{t((0,d.kG)(!0)),t((0,y.yB)(e));let r=u().find(n,{id:e});t((0,d.UM)(r))},c=e=>e.substring(0,4),f=e=>{e.fancy===o.z.NONE||e.fancy===o.z.RECV?t((0,p.TE)(e.id)):t((0,p.pi)(e.id))};return(0,r.jsx)(l.zX,{items:(0,r.jsx)(r.Fragment,{children:n.length>0?n.map((e,n)=>(0,r.jsx)("div",{children:(0,r.jsx)(g,{user:e,fancyState:e.fancy,props:(0,r.jsxs)("div",{className:"max-w-[200px]",children:[(0,r.jsx)("div",{className:"relative rounded-t-xl",children:(0,r.jsx)("div",{onClick:()=>a(e.id),children:(0,r.jsx)(i,{src:e.picture,alt:e.firstname})})}),(0,r.jsxs)("div",{className:"flex items-center justify-center w-full h-12 bg-white rounded-b-lg border border-gray-100 gap-1",children:[(0,r.jsx)("p",{className:"w-12 mr-3 font-semibold text-xl text-gray-700",children:c(e.firstname)}),(0,r.jsx)("p",{className:"mr-1 pl-1 pr-1 border rounded-full text-xl text-gray-500",children:e.age}),(0,r.jsxs)("p",{className:"font-thin mr-1 text-base text-gray-900",children:[e.distance,"km"]}),(0,r.jsx)(l.s,{fancyState:e.fancy,onClick:()=>f(e)})]})]})})},n)):(0,r.jsx)(l.LQ,{style:"bg-green-300 opacity-50",length:n.length})})})}},7250:function(e,n,t){"use strict";t.d(n,{Hf:function(){return i},hk:function(){return a},ig:function(){return s},p9:function(){return d}});var r=t(2038);function a(e){return e|r.z.SEND}function i(e){return e&~r.z.SEND}function s(e){return e|r.z.RECV}function d(e){return e&~r.z.RECV}},26:function(e,n,t){"use strict";t.d(n,{HO:function(){return p},NP:function(){return o},RJ:function(){return b},TE:function(){return m},Un:function(){return S},bO:function(){return g},m0:function(){return u},pi:function(){return j}});var r=t(5065),a=t(410),i=t(9524),s=t(9690),d=t.n(s),l=t(7250);let o=(0,r.hg)("suggestionSlice/getSuggestionUsers",async()=>(await a.Z.get("/user/tea")).data.profile_list.map(e=>(0,i.S)(e))),c=e=>{e.addCase(o.pending,e=>{e.loading=!0,e.error=null}),e.addCase(o.fulfilled,(e,n)=>{e.users=n.payload,e.loading=!1}),e.addCase(o.rejected,e=>{e.loading=!1,e.error="error"})},u=(0,r.hg)("suggestionSlice/getHistoryUserList",async e=>(await a.Z.get("/history/history-list?time=".concat(e))).data.profile_list.map(e=>(0,i.S)(e))),f=e=>{e.addCase(u.pending,e=>{e.loading=!0,e.error=null}),e.addCase(u.fulfilled,(e,n)=>{e.users=n.payload,e.loading=!1}),e.addCase(u.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})},g=(0,r.hg)("suggestionSlice/getFancyUsers",async e=>(await a.Z.get("/history/fancy-list?time=".concat(e))).data.profile_list.map(e=>(0,i.S)(e))),y=e=>{e.addCase(g.pending,e=>{e.loading=!0,e.error=null}),e.addCase(g.fulfilled,(e,n)=>{e.users=n.payload,e.loading=!1}),e.addCase(g.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})},p=(0,r.hg)("suggestionSlice/getVisitorUsers",async e=>(await a.Z.get("/history/visitor-list?time=".concat(e))).data.profile_list.map(e=>(0,i.S)(e))),h=e=>{e.addCase(p.pending,e=>{e.loading=!0,e.error=null}),e.addCase(p.fulfilled,(e,n)=>{e.users=n.payload,e.loading=!1}),e.addCase(p.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})},m=(0,r.hg)("suggestionSlice/patchFancy",async e=>(await a.Z.patch("/history/fancy",{target_id:Number(e)}),e)),x=e=>{e.addCase(m.pending,e=>{e.loading=!0,e.error=null}),e.addCase(m.fulfilled,(e,n)=>{let t=n.payload,r=d().find(e.users,{id:t});r.fancy=(0,l.hk)(r.fancy),e.loading=!1}),e.addCase(m.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})},j=(0,r.hg)("suggestionSlice/patchUnFancy",async e=>(await a.Z.patch("/history/unfancy",{target_id:Number(e)}),e)),N=e=>{e.addCase(j.pending,e=>{e.loading=!0,e.error=null}),e.addCase(j.fulfilled,(e,n)=>{let t=n.payload,r=d().find(e.users,{id:t});r.fancy=(0,l.Hf)(r.fancy),e.loading=!1}),e.addCase(j.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})},b=(0,r.hg)("suggestionSlice/postSearch",async(e,n)=>{let{getState:t}=n,{searchParams:r}=t().searchSlice;return(await a.Z.post("/user/search",{min_age:r.minAge,max_age:r.maxAge,distance:r.distance,tags:r.interests,fame:r.rating})).data.profile_list.map(e=>(0,i.S)(e))}),v=e=>{e.addCase(b.pending,e=>{e.loading=!0,e.error=null}),e.addCase(b.fulfilled,(e,n)=>{e.users=n.payload}),e.addCase(b.rejected,(e,n)=>{var t;e.loading=!1,e.error=null!==(t=n.error.message)&&void 0!==t?t:null})},S=e=>{c(e),f(e),h(e),y(e),N(e),v(e),x(e)}},3487:function(e,n,t){"use strict";t.d(n,{E3:function(){return l},PJ:function(){return c},mt:function(){return g},oP:function(){return y},x6:function(){return u},yB:function(){return f}});var r=t(5065),a=t(9690),i=t.n(a),s=t(7250),d=t(26);let l={users:[],visitorNoti:!1,fancyNoti:!1,loading:!1,error:null},o=(0,r.oM)({name:"suggestionSlice",initialState:l,reducers:{setVisitorNoti:(e,n)=>{e.visitorNoti=n.payload},setFancyNoti:(e,n)=>{e.fancyNoti=n.payload},setNewFancy:(e,n)=>{let t=n.payload,r=i().find(e.users,{id:t});r.fancy=(0,s.ig)(r.fancy),e.loading=!1},setUnFancy:(e,n)=>{let t=n.payload,r=i().find(e.users,{id:t});r.fancy=(0,s.p9)(r.fancy)},initUser:e=>{e.users=[]}},extraReducers:e=>{(0,d.Un)(e)}}),{initUser:c,setNewFancy:u,setUnFancy:f,setFancyNoti:g,setVisitorNoti:y}=o.actions;o.reducer,n.ZP=o.reducer},6400:function(e,n,t){"use strict";function r(e){let{time:n}=e;return("now"===n?new Date().toISOString():n).replace("T"," ").replace("Z","")+"000%2B0000"}t.d(n,{I:function(){return r}})}},function(e){e.O(0,[495,437,400,194,60,670,744],function(){return e(e.s=342)}),_N_E=e.O()}]);