"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[949],{7251:function(e,r,a){a.d(r,{Fc:function(){return f},PQ:function(){return g},vZ:function(){return u},wy:function(){return d}});var n=a(5065),t=a(410),o=a(9524),l=a(2038),s=a(1561);let d=(0,n.hg)("accountSlice/getMyAccount",async()=>{let e=await t.Z.get("/user/profile");return(0,o.S)(e.data)}),i=e=>{e.addCase(d.pending,(e,r)=>{e.loading=!0,e.error=null}),e.addCase(d.fulfilled,(e,r)=>{e.user={...e.user,...r.payload},e.loading=!1}),e.addCase(d.rejected,(e,r)=>{var a;e.loading=!1,e.error=null!==(a=r.error.message)&&void 0!==a?a:null})},u=(0,n.hg)("accountSlice/getMyEmail",async()=>{let e=await t.Z.get("/user/email");return(0,o.S)(e.data)}),c=e=>{e.addCase(u.pending,e=>{e.loading=!0,e.error=null}),e.addCase(u.fulfilled,(e,r)=>{e.viewMail=r.payload.email,e.loading=!1}),e.addCase(u.rejected,(e,r)=>{var a;e.loading=!1,alert("이미 인증된 메일입니다."),e.error=null!==(a=r.error.message)&&void 0!==a?a:""})},g=(0,n.hg)("accountSlice/postResetPassword",async(e,r)=>{let{getState:a}=r,n=a().accountSlice.password;return(await t.Z.post("/user/reset-pw?key=".concat(e),{pw:n})).status}),p=e=>{e.addCase(g.pending,(e,r)=>{e.loading=!0,e.error=null}),e.addCase(g.fulfilled,(e,r)=>{alert("비밀번호가 변경되었습니다. 다시 로그인해주세요."),window.location.href=l.AW.LOGIN,e.loading=!1}),e.addCase(g.rejected,(e,r)=>{var a;alert("올바르지 않은 인증입니다. 재설정을 다시 시도하세요."),window.location.href=l.AW.RESET_PASSWORD,e.loading=!1,e.error=null!==(a=r.error.message)&&void 0!==a?a:null})},f=e=>{i(e),c(e),p(e),(0,s.$i)(e),(0,s.am)(e),(0,s.v0)(e)}},5949:function(e,r,a){a.d(r,{h0:function(){return P},ZP:function(){return k},E3:function(){return i},_Y:function(){return Z},XM:function(){return C},P8:function(){return p},Sv:function(){return v},x7:function(){return f},R9:function(){return h},sc:function(){return E},Tl:function(){return A},wq:function(){return S},iE:function(){return j},tK:function(){return m},i_:function(){return c},fM:function(){return g},PR:function(){return y},gx:function(){return w},mm:function(){return L}});var n=a(5065),t=a(2038),o=a(9690),l=a.n(o);function s(e){let{state:r,action:a,property:n,oppositeType:t,maxItems:o}=e,s=r.user[n],d=r.user[t];o&&s.length>=o&&!s.includes(a.payload)||d.includes(a.payload)||(s.includes(a.payload)?r.user[n]=l().without(s,a.payload):r.user[n]=l().concat(s,a.payload))}var d=a(7251);let i={user:{id:"",loginId:"",firstname:"",lastname:"",email:"",age:t.bv.NONE_AGE,gender:t.Y0.NONE,sexualPreference:t.Y0.ALL,introduction:"",pictures:Array.from({length:t.bv.PHOTO_COUNT},()=>""),interests:[],hateInterests:[],emoji:[],hateEmoji:[],similar:!0},password:"",reEnterPassword:"",viewMail:"",loading:!1,error:""},u=(0,n.oM)({name:"accountSlice",initialState:i,reducers:{setAccountLoginId:(e,r)=>{e.user.loginId=r.payload},setAccountPassword:(e,r)=>{e.password=r.payload},setAccountGender:(e,r)=>{let a=parseInt(r.payload);e.user.gender=a},setAccountAge:(e,r)=>{r.payload<1||r.payload>100||(e.user.age=r.payload)},setAccountFirstname:(e,r)=>{e.user.firstname=r.payload},setAccountLastname:(e,r)=>{e.user.lastname=r.payload},setAccountEmail:(e,r)=>{e.user.email=r.payload},setAccountReEnterPassword:(e,r)=>{e.reEnterPassword=r.payload},setAccountSexualPreference:(e,r)=>{let a=parseInt(r.payload);e.user.sexualPreference=a},setAccountIntroduction:(e,r)=>{e.user.introduction=r.payload},addAccountPhotos:(e,r)=>{e.user.pictures=[...e.user.pictures,...r.payload]},addAccountPhotosWithIndex:(e,r)=>{e.user.pictures[r.payload.index]=r.payload.photo},removeAccountPhotos:(e,r)=>{e.user.pictures=e.user.pictures.filter((e,a)=>a!==r.payload)},setAccountSimiller:(e,r)=>{e.user.similar=r.payload},setAccountEmoji:(e,r)=>{s({state:e,action:r,property:"emoji",oppositeType:"hateEmoji",maxItems:4})},setAccountHateEmoji:(e,r)=>{s({state:e,action:r,property:"hateEmoji",oppositeType:"emoji",maxItems:4})},setAccountInterests:(e,r)=>{s({state:e,action:r,property:"interests",oppositeType:"hateInterests"})},setAccountHateInterests:(e,r)=>{s({state:e,action:r,property:"hateInterests",oppositeType:"interests"})}},extraReducers:e=>{(0,d.Fc)(e)}}),{setAccountLoginId:c,setAccountPassword:g,setAccountEmail:p,setAccountFirstname:f,setAccountLastname:m,setAccountReEnterPassword:y,setAccountAge:C,setAccountGender:h,setAccountSexualPreference:w,setAccountEmoji:v,setAccountHateEmoji:E,setAccountInterests:S,setAccountHateInterests:A,setAccountIntroduction:j,addAccountPhotos:I,addAccountPhotosWithIndex:P,setAccountSimiller:L,removeAccountPhotos:Z}=u.actions;u.reducer;var k=u.reducer},1561:function(e,r,a){a.d(r,{$H:function(){return N},$i:function(){return c},BG:function(){return P},FE:function(){return y},HU:function(){return f},NV:function(){return O},Rg:function(){return T},SV:function(){return i},XY:function(){return j},am:function(){return A},jc:function(){return h},t2:function(){return g},v0:function(){return v}});var n=a(5065),t=a(410),o=a(9524),l=a(5898),s=a(2038);let d=e=>{window.location.pathname!==s.AW.SETTING&&(window.location.href=e.emailCheck||e.oauth!==s.As.NONE?e.profileCheck?e.emojiCheck?s.AW.HOME:s.AW.EMOJI:s.AW.PROFILE:s.AW.VERIFY_EMAIL)},i=(0,n.hg)("loginSlice/postLogin",async(e,r)=>{let{getState:a}=r;try{let{user:e,password:r}=a().accountSlice,n=await t.Z.post("/user/login",{login_id:e.loginId,pw:r});return(0,o.S)(n.data)}catch(e){return Promise.reject({message:e.response.data.msg})}}),u=e=>{e.addCase(i.pending,e=>{e.loading=!0,e.error=null}),e.addCase(i.fulfilled,(e,r)=>{e.steps={...e.steps,...r.payload},e.loading=!1,d(e.steps)}),e.addCase(i.rejected,(e,r)=>{var a;e.error=null!==(a=r.error.message)&&void 0!==a?a:null,e.loading=!1})},c=e=>{e.addCase(i.pending,e=>{e.loading=!0,e.error=null}),e.addCase(i.fulfilled,(e,r)=>{e.user={...e.user,...r.payload},localStorage.setItem("id",e.user.id)}),e.addCase(i.rejected,(e,r)=>{var a;e.loading=!1,e.error=null!==(a=r.error.message)&&void 0!==a?a:null})},g=(0,n.hg)("loginSlice/getLogin",async()=>{let e=await t.Z.get("/user/login");return(0,o.S)(e.data)}),p=e=>{e.addCase(g.pending,e=>{e.loading=!0,e.error=null}),e.addCase(g.fulfilled,(e,r)=>{e.steps={...e.steps,...r.payload}}),e.addCase(g.rejected,(e,r)=>{e.loading=!1})},f=(0,n.hg)("accountSlice/changeMyEmail",async(e,r)=>{let{getState:a}=r;try{let e=a(),r=await t.Z.patch("/user/email",{email:e.accountSlice.user.email});return(0,o.S)(r.data)}catch(e){return Promise.reject({message:e.response.data.msg})}}),m=e=>{e.addCase(f.pending,e=>{e.loading=!0,e.error=null}),e.addCase(f.fulfilled,(e,r)=>{e.steps={...e.steps,...r.payload},e.loading=!1}),e.addCase(f.rejected,(e,r)=>{var a,n;e.loading=!1,e.error=null!==(a=r.error.message)&&void 0!==a?a:null,e.error=null!==(n=r.error.message)&&void 0!==n?n:null})},y=(0,n.hg)("loginSlice/getResendEmail",async()=>(await t.Z.get("/user/send-email")).data.status),C=e=>{e.addCase(y.pending,e=>{e.loading=!0,e.error=null}),e.addCase(y.fulfilled,(e,r)=>{e.isResendEmail=!0}),e.addCase(y.rejected,(e,r)=>{var a;e.loading=!1,e.error=null!==(a=r.error.message)&&void 0!==a?a:null})},h=(0,n.hg)("loginSlice/getKaKaoLogin",async e=>{let{code:r,state:a}=e,n=await t.Z.get("/kakao/login?code=".concat(r,"&state=").concat(a));return(0,o.S)(n.data)}),w=e=>{e.addCase(h.pending,e=>{e.loading=!0,e.error=null}),e.addCase(h.fulfilled,(e,r)=>{e.steps={...e.steps,...r.payload},e.loading=!1,d(e.steps)}),e.addCase(h.rejected,(e,r)=>{var a;e.loading=!1,e.error=null!==(a=r.error.message)&&void 0!==a?a:null})},v=e=>{e.addCase(h.pending,(e,r)=>{e.loading=!0,e.error=null}),e.addCase(h.fulfilled,(e,r)=>{e.user={...e.user,...r.payload},localStorage.setItem("id",e.user.id)}),e.addCase(h.rejected,(e,r)=>{var a;e.loading=!1,e.error=null!==(a=r.error.message)&&void 0!==a?a:null})},E=(0,n.hg)("loginSlice/getGoogleLogin",async()=>{let e=await t.Z.get("/google/login");return(0,o.S)(e.data)}),S=e=>{e.addCase(E.pending,e=>{e.loading=!0,e.error=null}),e.addCase(E.fulfilled,(e,r)=>{e.steps={...e.steps,...r.payload},e.loading=!1,d(e.steps)}),e.addCase(E.rejected,(e,r)=>{var a;e.loading=!1,e.error=null!==(a=r.error.message)&&void 0!==a?a:null})},A=e=>{e.addCase(E.pending,(e,r)=>{e.loading=!0,e.error=null}),e.addCase(E.fulfilled,(e,r)=>{e.user={...e.user,...r.payload},localStorage.setItem("id",e.user.id)}),e.addCase(E.rejected,(e,r)=>{var a;e.loading=!1,e.error=null!==(a=r.error.message)&&void 0!==a?a:null})},j=(0,n.hg)("loginSlice/getVerifyEmail",async e=>{try{return(await t.Z.get("/user/verify-email?key=".concat(e))).status}catch(e){return Promise.reject({message:e.response.data.msg})}}),I=e=>{e.addCase(j.pending,e=>{e.loading=!0,e.error=null}),e.addCase(j.fulfilled,e=>{e.loading=!1,e.steps.emailCheck=!0}),e.addCase(j.rejected,(e,r)=>{var a;e.error=null!==(a=r.error.message)&&void 0!==a?a:null,e.loading=!1})},P=(0,n.hg)("loginSlice/getLogout",async()=>(await t.Z.post("/user/logout",{headers:{"Content-Type":"application/json"}})).status),L=e=>{e.addCase(P.pending,e=>{e.loading=!0,e.error=null}),e.addCase(P.fulfilled,e=>{l.E3,window.location.href=s.AW.LOGIN}),e.addCase(P.rejected,e=>{alert("로그아웃 실패했습니다.")})},Z=(0,n.hg)("loginSlice/deleteUser",async()=>(await t.Z.delete("/user/unregister")).status),k=e=>{e.addCase(Z.pending,e=>{e.loading=!0,e.error=null}),e.addCase(Z.fulfilled,e=>{l.E3,window.location.href=s.AW.LOGIN}),e.addCase(Z.rejected,(e,r)=>{var a;e.loading=!1,e.error=null!==(a=r.error.message)&&void 0!==a?a:null})},N=(0,n.hg)("loginSlice/getResetPasswordEmail",async e=>(await t.Z.get("/user/reset-pw?login_id=".concat(e))).status),R=e=>{e.addCase(N.pending,e=>{e.loading=!0,e.error=null}),e.addCase(N.fulfilled,e=>{alert("비밀번호 재설정 메일을 보냈습니다. 확인해주세요.")}),e.addCase(N.rejected,(e,r)=>{var a;alert("존재하지 않는 로그인 id입니다."),e.loading=!1,e.error=null!==(a=r.error.message)&&void 0!==a?a:null})},O=(0,n.hg)("accountSlice/patchUserProfile",async e=>{let r=await t.Z.patch("/user/profile",e);return(0,o.S)(r.data)}),M=e=>{e.addCase(O.pending,e=>{e.loading=!0,e.error=null}),e.addCase(O.fulfilled,(e,r)=>{e.steps={...e.steps,...r.payload},e.loading=!1,alert("프로필이 업데이트 되었습니다."),d(e.steps)}),e.addCase(O.rejected,(e,r)=>{var a;e.loading=!1,e.error=null!==(a=r.error.message)&&void 0!==a?a:null})},T=e=>{m(e),p(e),u(e),C(e),w(e),S(e),I(e),L(e),k(e),R(e),M(e)}},5898:function(e,r,a){a.d(r,{E3:function(){return l},UY:function(){return u},e3:function(){return i},sT:function(){return d}});var n=a(5065),t=a(2038),o=a(1561);let l={idPasswordLoginFormView:!1,isResendEmail:!1,steps:{emailCheck:!1,profileCheck:!1,emojiCheck:!1,oauth:t.As.NONE},link:"",loading:!1,error:null},s=(0,n.oM)({name:"loginSlice",initialState:l,reducers:{closeLoginError:e=>{e.error=null},setIdPasswordLoginFormView:(e,r)=>{e.idPasswordLoginFormView=r.payload},setError(e,r){e.error=r.payload}},extraReducers:e=>(0,o.Rg)(e)}),{setError:d,setIdPasswordLoginFormView:i,closeLoginError:u}=s.actions;s.reducer,r.ZP=s.reducer}}]);